/*! jqueryformfilters - v1.0.0 - 2014-01-14
* https://github.com/ryudice/jqueryformfilters
* Copyright (c) 2014 Roberto Yudice; Licensed MIT */
!function(a){a.fn.formFilters=function(b){var c=[];b=a.extend({},a.formFilters.options,b),a.formFilters.options=b;var d=function(a,b){var c=a,d=this;return this.observable=function(){return arguments.length>0?(c=arguments[0],d.callback&&d.callback(),this):c},void 0===a?a:(this.callback=b,c=a,this.observable)};return this.each(function(){a(this).find("input,select").each(function(b,e){var f=a("label[for='"+a(e).attr("id")+"']").first();if(f){var g,h,i=new d(a(this).val(),function(){var a=this.observable();""===a||null===a?g.hide():(g.find(".input-value").html(" "+a+" "),g.show())});if(a(e).is(":radio")){var j,k=a(e).data("filter-group");g=a("<li><span class='input-label'>"+k+"</span><span class='input-value'></span></li>").hide(),a.each(c,function(a,b){return b.group===k?(j=b,!1):void 0}),h=j?j:{label:k,input:e,value:i,element:g,group:k,labelElement:f}}else g=a("<li><span class='input-label'>"+a(f).html()+"</span><span class='input-value'></span></li>").hide(),h={label:a(f).html(),input:e,value:i,element:g,group:null,labelElement:f};var l=a("<a href='#'>"+a.formFilters.options.removeLabel+"</a>").on("click",function(b){if(a(h.input).is(":radio")){var c=a("input:radio[data-filter-group='"+h.group+"']");c.removeAttr("checked").filter("[value='']").attr("checked","checked").change()}else a(h.input).val("").change();b.preventDefault(),a.formFilters.options.onClear&&a.formFilters.options.onClear()});g.append(l),a(e).on("change",function(){if(a(this).is(":radio")){var b=a(this).data("filter-description");b?h.value(b):h.value(a(this).val())}else h.value(a(this).val())}),c.push(h)}}),a(a.formFilters.options.renderTo).append(a.map(c,function(a){return a.element}))})},a.formFilters=function(b){return b=a.extend({},a.formFilters.options,b),a.awesome.options=b,"awesome"+b.punctuation},a.formFilters.options={renderTo:null,onClear:null,removeLabel:"Remove"}}(jQuery);